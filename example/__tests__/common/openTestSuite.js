import helper from 'tipsi-appium-helper'

const { driver, idFromAccessId } = helper

export default async function openTestSuite(name) {
  const drawerButton = idFromAccessId('toggleDrawerButton')
  const menuButton = idFromAccessId(name)

  try {
    await driver
      .waitForVisible(drawerButton, 60000)
      .click(drawerButton)
      .waitForVisible(menuButton, 60000)
      .click(menuButton)
  } catch (e) {
    console.log("Failed to openTestSuite", e)
    console.log(await driver.source())
    throw e
  }
}
